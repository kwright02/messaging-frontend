<mat-toolbar color="primary">
  <mat-toolbar-row>
    <p class="toolbar-text">Pattonville Messaging Service</p>
    <span class="fill-space"></span>
    <form>
      <mat-form-field floatLabel="never">
        <input matInput type="text" placeholder="Search" (keyup)="fabContent.feedContent.updatePostsWithSearch(searchBar.value)" #searchBar>
      </mat-form-field>
    </form>
    <img (click)="logout()" class="user-icon" [src]="authService.getAuth().currentUser.get().getBasicProfile().getImageUrl()" alt="user_icon">
  </mat-toolbar-row>
</mat-toolbar>

<mat-sidenav-container class="example-container">
    <mat-sidenav mode="side" opened class="sidenav" disableClose = "true" [fixedInViewport]="false">
      <div class="sidebar-content-container">
        <div [style.display]="authService.getAuth().currentUser.get().getBasicProfile().getEmail().includes('@psdr3.org') ? 'block' : 'none'" class="new-post-container">
          <button mat-raised-button class="new-post-button" color="accent" (click)="createScreen()"> <mat-icon>edit</mat-icon> New Post</button>
        </div>
        <div class="feed-options">
          <p [style.display]="authService.getAuth().currentUser.get().getBasicProfile().getEmail().includes('@psdr3.org') ? 'block' : 'none'" class={{sentClass}} (click)="changeSection('sent')">Sent</p>
          <p [style.display]="authService.getAuth().currentUser.get().getBasicProfile().getEmail().includes('@psdr3.org') ? 'block' : 'none'" class={{pendingClass}} (click)="changeSection('pending')">Pending</p>
          <p [style.display]="authService.getAuth().currentUser.get().getBasicProfile().getEmail().includes('@psdr3.org') ? 'block' : 'none'">Groups</p>
        </div>
      </div>
    </mat-sidenav>
    <mat-sidenav-content class="main-content" #feedContainer>
      <div *ngIf = "isCreationPostVisible; else elseBlock">
        <app-create-post (voted)="onVoted($event)"></app-create-post>
      </div>
      <ng-template class="main-post" #elseBlock>
        <app-feed #feed></app-feed>
      </ng-template>
    </mat-sidenav-content>
</mat-sidenav-container>
